# Enhanced inventory.ini with Pi-hole Migration Groups
# Your existing inventory structure preserved + migration additions

[servers]
wazuh-siem ansible_host=wazuh.home.arpa
zeus       ansible_host=zeus.home.arpa
mw2        ansible_host=www.home.arpa
netbox     ansible_host=netbox1.home.arpa

[containers]
gmailctl-ansible  ansible_host=gmailctl-ansible.home.arpa 
pbs01             ansible_host=pbs01.home.arpa 
gmailctl-ansible  ansible_host=gmailctl-ansible.home.arpa 
n8n               ansible_host=n8n.home.arpa 

[wazuh_agents]
gmailctl-ansible  ansible_host=gmailctl-ansible.home.arpa 
venus       ansible_host=venus.home.arpa

[yunohost_servers]
ynh2       ansible_host=ynh2.home.arpa   ansible_user=root

[desktops]
venus       ansible_host=venus.home.arpa
titan2      ansible_host=titan2.home.arpa ansible_user=will
zeus       ansible_host=zeus.home.arpa ansible_user=will 

# This group contains all other groups, which is useful for running tasks on every host. I haven't used yet, but might be  useful. 
[all:children]
servers
desktops

# === PI-HOLE MIGRATION GROUPS (NEW) ===

[proxmox]
pve2       ansible_host=pve2.home.arpa ansible_user=root

[pihole_old]
rpi2       ansible_host=192.168.0.187 ansible_user=pi

[pihole_old:vars]
ansible_python_interpreter=/usr/bin/python
pihole_config_path=/etc/pihole
dhcp_lease_file=/etc/pihole/dhcp.leases
migration_status=active_source
ansible_ssh_common_args=-o StrictHostKeyChecking=no

[pihole_new]
# These will be created during migration
pihole-primary   ansible_host=192.168.0.88 ansible_user=root pihole_role=primary container_id=105
pihole-secondary ansible_host=192.168.0.89 ansible_user=root pihole_role=secondary

[raspberry_pi]
rpi2       ansible_host=192.168.0.187 ansible_user=pi

[pihole_all:children]
pihole_old
pihole_new

# === PI-HOLE MIGRATION VARIABLES ===

[pihole_old:vars]
pihole_config_path=/etc/pihole
dhcp_lease_file=/etc/pihole/dhcp.leases
migration_status=active_source
backup_required=true
ansible_python_interpreter=/usr/bin/python
pihole_config_path=/etc/pihole
dhcp_lease_file=/etc/pihole/dhcp.leases
migration_status=active_source

[pihole_new:vars]
pihole_version=latest
container_memory=1024
container_disk=8
container_cores=1
migration_status=target

[proxmox:vars]
proxmox_node_name=pve2
nfs_share_available=true
nfs_mount_point=/mnt/shared

# === GLOBAL VARIABLES (PRESERVED + ENHANCED) ===

[all:vars]
ansible_python_interpreter=/usr/bin/python3

# Migration-specific global vars
domain_name=home.arpa
network_cidr=192.168.0.0/24
gateway_ip=192.168.0.1
dhcp_range_start=192.168.0.100
dhcp_range_end=192.168.0.200
dhcp_lease_time=24h
dhcp_authoritative=true
dhcp_rapid_commit=true
dns_forwarders=1.1.1.1,8.8.8.8,1.0.0.1,8.8.4.4
local_domain_resolution=/home.arpa/
migration_backup_dir=./backups/pihole
netbox_url=http://netbox1.home.arpa
pihole_interface=eth0
lxc_storage=local-lvm
lxc_network_bridge=vmbr0
